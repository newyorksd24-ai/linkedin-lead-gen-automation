{
  "name": "WF3_Order_Processing.",
  "nodes": [
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1KmduRcQ9yJSoW2HMfEkhGjlBMYCMqin7esWOO8ASZ9g",
          "mode": "list",
          "cachedResultName": "WF1_WF2_Manual_verification_client DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1KmduRcQ9yJSoW2HMfEkhGjlBMYCMqin7esWOO8ASZ9g/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Foglio1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1KmduRcQ9yJSoW2HMfEkhGjlBMYCMqin7esWOO8ASZ9g/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "={{ $json.id }}",
            "CustomerName": "={{ $json.CustomerName }}",
            "phone": "={{ $('lettura manual DB per java').item.json.phone }}",
            "orderStatus": "VALID",
            "Bicycle Models": "={{ $json['Bicycle Models'] }}",
            "notes": "={{ $json.notes }}",
            "Timestamp": "={{ $json.Timestamp }}",
            "validatedAt": "={{ $('CLIEND ID... RESPONSE - TRIGGER').item.json.date }}",
            "quantity": "={{ $json.quantity }}",
            "Shipping Address": "={{ $json['Shipping Address'] }}",
            "email": "={{ $('lettura manual DB per java').item.json.email }}",
            "price": "={{ $json.price }}",
            "retryCount": "={{ $json.retryCount }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "CustomerName",
              "displayName": "CustomerName",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "email",
              "displayName": "email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "phone",
              "displayName": "phone",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Shipping Address",
              "displayName": "Shipping Address",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Bicycle Models",
              "displayName": "Bicycle Models",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "quantity",
              "displayName": "quantity",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "price",
              "displayName": "price",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "orderStatus",
              "displayName": "orderStatus",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "notes",
              "displayName": "notes",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Timestamp",
              "displayName": "Timestamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "validatedAt",
              "displayName": "validatedAt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "retryCount",
              "displayName": "retryCount",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        1216,
        80
      ],
      "id": "973e3064-fd3f-4400-99a8-23a84fdacae7",
      "name": "UPDATED STATUS MANUAL-VERIFICATION DB ORDERSTATUS: PENDING_VERIFICATION > UPDATED_BY_CLIENT",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "78DXOMq3gmiXam1g",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "simple": false,
        "filters": {
          "includeDrafts": false,
          "q": "=Subject:\"Order #\""
        },
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTrigger",
      "typeVersion": 1.3,
      "position": [
        96,
        96
      ],
      "id": "a68a63ed-a318-414e-99e5-1beab6f8f639",
      "name": "CLIEND ID... RESPONSE - TRIGGER",
      "credentials": {
        "gmailOAuth2": {
          "id": "53D8kOUWF37L6Qfx",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=SUBJECT: {{ $json.subject }}\nBODY: {{ $json.text }}",
        "messages": {
          "messageValues": [
            {
              "message": "You are a Data Extraction Expert.  Your task is to extract specific information from a customer's email reply regarding their bicycle order.  RULES: - \"Extract the full Order ID from the Subject line. It starts with 'ORD-' and includes all dashes and numbers (e.g., ORD-123456789-000). Do not strip any characters. - Extract any corrected Email, Phone, or Shipping Address mentioned in the Body. - If a piece of information is NOT mentioned, return \"null\" for that field. - Respond ONLY with a valid JSON object.  OUTPUT FORMAT: {   \"orderId\": \"string\",   \"email\": \"string or null\",   \"phone\": \"string or null\",   \"shippingAddress\": \"string or null\" }"
            }
          ]
        },
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.9,
      "position": [
        240,
        96
      ],
      "id": "54c2be8b-b936-486b-a8c3-c24a8d7f391d",
      "name": "Basic LLM Chain"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        304,
        272
      ],
      "id": "f5fa0e82-7406-46fa-8aec-031fcf8ee877",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "Z2zT01QqgRlndMbx",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "aa8f336f-e6b1-4b58-bd64-a05a111498ca",
              "leftValue": "={{ $json.email != null || $json.phone != null || $json.shippingAddress != null }}",
              "rightValue": "null",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {
          "ignoreCase": false
        }
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        992,
        96
      ],
      "id": "a07a175e-6950-47e7-961c-5707df62b402",
      "name": "LLM ha trovato davvero dati nuovi?"
    },
    {
      "parameters": {
        "jsCode": "// Prende il testo dall'AI e pulisce eventuali tag markdown\nconst rawText = $json.text;\nconst cleanJson = rawText.replace(/```json\\n?|\\n?```/g, '').trim();\n\n// Converte la stringa in un oggetto\nconst parsed = JSON.parse(cleanJson);\n\n// Assicuriamoci che l'orderId sia una stringa pulita\nif (parsed.orderId) {\n  parsed.orderId = String(parsed.orderId).trim(); \n}\n\nreturn parsed;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        496,
        96
      ],
      "id": "03f5149f-5f94-453b-a8a6-ca808680968c",
      "name": "Parse AI Response"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1KmduRcQ9yJSoW2HMfEkhGjlBMYCMqin7esWOO8ASZ9g",
          "mode": "list",
          "cachedResultName": "WF1_WF2_Manual_verification_client DB",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1KmduRcQ9yJSoW2HMfEkhGjlBMYCMqin7esWOO8ASZ9g/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Foglio1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1KmduRcQ9yJSoW2HMfEkhGjlBMYCMqin7esWOO8ASZ9g/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "id",
              "lookupValue": "={{ $json.orderId }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        640,
        96
      ],
      "id": "ee9b4ba2-f401-47df-8b41-e6afa32c58c5",
      "name": "lettura Manual DB per java",
      "alwaysOutputData": false,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "78DXOMq3gmiXam1g",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. Dati estratti dall'AI\nconst aiData = $('Parse AI Response').item.json;\n\n// 2. Dati dal Database\n// IMPORTANTE: Questo deve essere il nome del NODO, non del foglio.\nconst dbNode = $('lettura Manual DB per java');\n\nif (!dbNode || !dbNode.item) {\n  throw new Error(\"Il nodo di lettura non ha prodotto dati. Controlla il filtro ID.\");\n}\n\nconst dbData = dbNode.item.json;\n\n// 3. Unione dati\nreturn {\n  id: dbData.id, // Stringa ORD-1770399228846-695\n  CustomerName: dbData.CustomerName,\n  email: (aiData.email && aiData.email !== \"null\") ? aiData.email : dbData.email,\n  phone: (aiData.phone && aiData.phone !== \"null\") ? aiData.phone : dbData.phone,\n  ['Shipping Address']: (aiData.shippingAddress && aiData.shippingAddress !== \"null\") ? aiData.shippingAddress : dbData['Shipping Address'],\n  orderStatus: 'UPDATED_BY_CLIENT', \n  ['Bicycle Models']: dbData['Bicycle Models'],\n  quantity: dbData.quantity,\n  price: dbData.price,\n  notes: dbData.notes,\n  Timestamp: dbData.Timestamp,\n  retryCount: (parseInt(dbData.retryCount) || 0) + 1\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        816,
        96
      ],
      "id": "0d84e1e6-6d22-4781-a760-ca46d54be08c",
      "name": "lettura manual DB per java"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 3
          },
          "conditions": [
            {
              "id": "ae16c87f-39c7-4b39-8389-ca0b005db8de",
              "leftValue": "={{ $('lettura manual DB per java').item.json.retryCount }}\n",
              "rightValue": 2,
              "operator": {
                "type": "number",
                "operation": "lt"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        1392,
        80
      ],
      "id": "d873057b-eaa8-40ee-9339-60cca57f1a39",
      "name": "PREVENT-HTTP- LOOPS"
    },
    {
      "parameters": {
        "sendTo": "fabiodropshipping22@gmail.com",
        "subject": "=\"Ordine #{{ $json.id }} richiede intervento manuale\"",
        "emailType": "text",
        "message": "=L'ordine #{{ $json.id }} del cliente {{ $json.CustomerName }} ha superato i 2 tentativi automatici. Verifica manualmente i dati.",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        1584,
        192
      ],
      "id": "5d591dab-d3fe-4d43-9b25-8110cd2df0b6",
      "name": "Email --> WH :Verifica manualmente i dati",
      "webhookId": "03b071f8-53fa-46ad-a6d5-12d5f4dc8c19",
      "credentials": {
        "gmailOAuth2": {
          "id": "53D8kOUWF37L6Qfx",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://fabiomoretti.app.n8n.cloud/webhook-test/e177a163-f661-4781-8307-c35e4f823c6d",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {}
          ]
        },
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "id",
              "value": "={{ $json.id }}"
            },
            {
              "name": "=CustomerName",
              "value": "={{ $json.CustomerName }}"
            },
            {
              "name": "email",
              "value": "={{ $json.email }}"
            },
            {
              "name": "phone",
              "value": "={{ $json.phone }}"
            },
            {
              "name": "Shipping Address",
              "value": "={{ $('lettura manual DB per java').item.json['Shipping Address'] }}"
            },
            {
              "name": "orderStatus",
              "value": "={{ $json.orderStatus }}"
            },
            {
              "name": "Bicycle Models",
              "value": "={{ $json['Bicycle Models'] }}"
            },
            {
              "name": "quantity",
              "value": "={{ $json.quantity }}"
            },
            {
              "name": "notes",
              "value": "={{ $json.notes }}"
            },
            {
              "name": "TimeStamp",
              "value": "={{ $json.Timestamp }}"
            },
            {
              "name": "validatedAt",
              "value": "={{ $json.validatedAt }}"
            },
            {
              "name": "price",
              "value": "={{ $('lettura manual DB per java').item.json.price }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        1584,
        16
      ],
      "id": "445ffac5-afe8-4451-82f9-7f69e9e826fe",
      "name": "HTTP TO WEBHOOK FOR DOUBLE CHECK",
      "alwaysOutputData": false,
      "retryOnFail": false
    },
    {
      "parameters": {
        "content": "WF3 - ORDER PROCESSING (CLIENT RESPONSE)\nAUTOMATED CLIENT REPLY HANDLER. EXTRACTS CORRECTED DATA FROM EMAIL RESPONSES WITH LOOP PREVENTION.\n\nðŸ“§ Gmail Trigger - detect replies to verification emails (every 1 min)\n\nðŸ¤– AI Extraction (LLM + OpenAI) - parse email body for corrected data (email/phone/address)\n\nðŸ’» Code: Parse AI Response - clean JSON output\n\nðŸ“Š Google Sheets: Read - fetch order from manual verification DB\n\nðŸ’» Code: Merge Data - combine AI-extracted data with existing order + increment retryCount\n\nðŸ”€ IF - retryCount < 2?\n\nâœ… TRUE branch:\n\nðŸ“ Google Sheets: Update - update manual DB with new data\n\nðŸ”„ HTTP Request - send to W1 webhook for re-validation\n\nâŒ FALSE branch:\n\nðŸ“§ Gmail: Send - alert team for manual intervention (loop prevention)\n\n",
        "height": 608,
        "width": 2256,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -400,
        -144
      ],
      "typeVersion": 1,
      "id": "4695cb79-dcdb-41e6-ab3b-25abf75f0e7e",
      "name": "Sticky Note"
    }
  ],
  "pinData": {
    "CLIEND ID... RESPONSE - TRIGGER": [
      {
        "json": {
          "id": "19c53a2798cfef3c",
          "threadId": "19c53a2798cfef3c",
          "labelIds": [
            "UNREAD",
            "INBOX"
          ],
          "sizeEstimate": 7103,
          "headers": {
            "delivered-to": "Delivered-To: fabiodropshipping22@gmail.com",
            "received": "Received: from mail-sor-f41.google.com (mail-sor-f41.google.com. [209.85.220.41])\r\n        by mx.google.com with SMTPS id 6a1803df08f44-8971cd6f789sor35340196d6.10.2026.02.12.12.54.42\r\n        for <fabiodropshipping22@gmail.com>\r\n        (Google Transport Security);\r\n        Thu, 12 Feb 2026 12:54:42 -0800 (PST)",
            "x-received": "X-Received: by 2002:ad4:5ce7:0:b0:895:498e:e9dc with SMTP id\r\n 6a1803df08f44-897347079f6mr7407106d6.5.1770929681954; Thu, 12 Feb 2026\r\n 12:54:41 -0800 (PST)",
            "arc-seal": "ARC-Seal: i=1; a=rsa-sha256; t=1770929682; cv=none;\r\n        d=google.com; s=arc-20240605;\r\n        b=k4NXVMTE4qcSNffq4cMc8RtE9iS7Un6bIn6aTkXavwNKh/RAKm6ZX3oiP98YnD+svJ\r\n         iBwm+6KwL6sjjlFurRcCOgoyhC1EttKMpEkSGXN0u78VnuFO1DrhLhCAVoOskXoXRwTf\r\n         GHPZw0TBlfVfOX6VzK6ZMV4HF3gkNB+FMQvc2WVRgX5yYGfVRho3G6loIMaC7WRzZk6d\r\n         fyoPhPIAsDsXhzRcioyCYxmwIqyUor8qkv/Y5VDOZpKXNtBTYGdPvul3uJb+VIMhTDZd\r\n         zVcnhQAyyUQ8e2C9W5O2pHCphCZ578lsyi0xUo7n1pDnHDVp8wZtfez/BSFd4c7+6T1f\r\n         3rXw==",
            "arc-message-signature": "ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20240605;\r\n        h=to:subject:message-id:date:from:mime-version:dkim-signature;\r\n        bh=NT+PTnKwqT8xBLX8uGNPeEIxsP3Vg02e59OeBbvMxco=;\r\n        fh=iCMMTGqsCm8RO7Z2EgUjciXollI9pwSY5PbFltni+iU=;\r\n        b=ZVuICj31NiQ5l763ozR0BrV6Lym7pqQv1ymBPG41R4TtK1NhrgmBmlObn9QOFyxUZO\r\n         GHfhHyubxnrTiH3m/qiYYbx2zQHSB3AShmn714+HDrVR28wb+DY+JfV9KE/TE1RpYU/i\r\n         zBIjgHkGRJJ+lT+K5FCUEFSOrV96jjmueZbwOvoc7Z5elqDbNuAV9v5JFqG76xP81Tmr\r\n         XpdzVqby41+8L1jO80aiRE3zTx2eBOAgYqh2KlqcQJEgq/US86zCQeSnxjSNU4aggwpT\r\n         wIXlZo0xLN6+lRuk5vL7UHxVseK1JaqC1zYooDsu7MBQeZ/U7ghRPvl6DTzUN1Jv2bYU\r\n         TwQw==;\r\n        dara=google.com",
            "arc-authentication-results": "ARC-Authentication-Results: i=1; mx.google.com; arc=none",
            "return-path": "Return-Path: <fabio.roggero90@gmail.com>",
            "received-spf": "Received-SPF: pass (google.com: domain of fabio.roggero90@gmail.com designates 209.85.220.41 as permitted sender) client-ip=209.85.220.41;",
            "authentication-results": "Authentication-Results: mx.google.com;\r\n       dkim=pass header.i=@gmail.com header.s=20230601 header.b=bnwP3dZJ;\r\n       arc=pass (i=1);\r\n       spf=pass (google.com: domain of fabio.roggero90@gmail.com designates 209.85.220.41 as permitted sender) smtp.mailfrom=fabio.roggero90@gmail.com;\r\n       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com;\r\n       dara=pass header.i=@gmail.com",
            "dkim-signature": "DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\r\n        d=gmail.com; s=20230601; t=1770929682; x=1771534482; dara=google.com;\r\n        h=to:subject:message-id:date:from:mime-version:from:to:cc:subject\r\n         :date:message-id:reply-to;\r\n        bh=NT+PTnKwqT8xBLX8uGNPeEIxsP3Vg02e59OeBbvMxco=;\r\n        b=bnwP3dZJ344emlXWU5nBJ78SHNuht7QCKYYQdEGNLTsCHAJPbnT++pjXUU6HCiIgXA\r\n         obVffBgfkoIyLFxCyOSIQ42o9AtLpR6ubNl7ot9Gi8bigp+/03tJkbDkJ8slkvK7EnPQ\r\n         sZclrY8PqzV7R5QM3IzGKoNu20aK4D63uWGfJmgpUWkL9qEse2eiXSnExD1qQVXnPWEF\r\n         j9FItxkIWlkYjKasoZmpIB+H7QUalicYQ1V7jiPSyKSwVLoPAzizfqmnXGiTboTCloZu\r\n         jEnE4W6ywDpkkGnQTiWg6hIOLrhXIgk9s90hepQtiVm22J6Es/zS754QxCDScYi/sxjl\r\n         Mv3w==",
            "x-google-dkim-signature": "X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;\r\n        d=1e100.net; s=20230601; t=1770929682; x=1771534482;\r\n        h=to:subject:message-id:date:from:mime-version:x-gm-gg\r\n         :x-gm-message-state:from:to:cc:subject:date:message-id:reply-to;\r\n        bh=NT+PTnKwqT8xBLX8uGNPeEIxsP3Vg02e59OeBbvMxco=;\r\n        b=K63IJ/rWjcy19mHS2MQMjO8TdCI5qadWbqJXBivn1uwV6cbrNSaRKPLalN3BukFdER\r\n         UnJaVSvHvgDmqAhGbcKxMi3TAlYpsJMGlXkJwx84ubCAb8qXpSCVd3uPqfCb/huShomy\r\n         QhDQXjXcBfQQX84NwpZPbubIC9HX65J5yUNLBoMfcpxs+//mancbnrnOrl7C6MSMSObi\r\n         UKOaidd90I9HNoNVoxbjbesu2t2X8XY8pe6kZev2ir/FEws+QM9XJT/Ph/a6Ix4oGwik\r\n         pZrUHJJzjSiuZJJh7m0VcRj0yzeuofu7kuD0IZFca2Hz2gaegU9+rH/DCDEIRJ907mXy\r\n         OTEQ==",
            "x-gm-message-state": "X-Gm-Message-State: AOJu0YxwGZsXJ904hYOEz34oGnDkv0/xhSex1tpYVUfcnAfQeT1nwAOV\r\n\tWsY8zWruM2ylo6JrS1V5i7EOWIm4pNs02KH0f76dSuii4IRhBT+M2QM4JtoYmeN5Cb060MXRmdD\r\n\th/YslvADro+OU9NQAmSM5KSj4TDlLhu1KobMpWDQ=",
            "x-gm-gg": "X-Gm-Gg: AZuq6aKIobjqPAyZJUlaKFIkI3ZTHhueNS0NmrmENEGQiS22y0S217MPtMVCUIPgQUi\r\n\tC0qVlYGff6LTpftZirxiaw4pSu81xG59sTHWkWg4awQuXPDD5UTvlNUsAOoPO+Bc+U8dtcoU7hu\r\n\t5mRTdeJzYy91JGtIUP3EHM4qtMVzj9wFR+cV8kPOA7F2GBWvsuIXH87LhH+6cNo8aCG7pnGk27t\r\n\tzXWpsstcczTwFRrkQ0JXD4P1fiSaubTzLED2A7rWOqXWRCi4meXOy7fizSG8JZ+HPcd1ikIIAzE\r\n\t6Q5GsQtXmvNRrhoaHp1if+oeWz4P5ppQUUIhAI4zfRspftEOR0rIgYl9gDoykki1mH2vhA==",
            "mime-version": "MIME-Version: 1.0",
            "from": "From: Fabio Roggero <fabio.roggero90@gmail.com>",
            "date": "Date: Thu, 12 Feb 2026 21:54:29 +0100",
            "x-gm-features": "X-Gm-Features: AZwV_QgWBIgemBLL4gNRlSzniXB1bpjefCMpO3eRseaCAo_3kgG8-nTfhl-QR88",
            "message-id": "Message-ID: <CAODqEHbvvkFa5raiVtQ0PHnKCTuJGrxeQeSVxxObNZgO26547g@mail.gmail.com>",
            "subject": "Subject: Re: Order #ORD-TEST-VELOCE-001 - We need more information",
            "to": "To: fabiodropshipping22@gmail.com",
            "content-type": "Content-Type: multipart/alternative; boundary=\"0000000000009d7a05064aa6b2df\""
          },
          "html": "<div dir=\"ltr\">phone 56590049043<div>via luciano gallo n 9</div></div>\n",
          "text": "phone 56590049043\nvia luciano gallo n 9\n",
          "textAsHtml": "<p>phone 56590049043<br/>via luciano gallo n 9</p>",
          "subject": "Re: Order #ORD-TEST-VELOCE-001 - We need more information",
          "date": "2026-02-12T20:54:29.000Z",
          "to": {
            "value": [
              {
                "address": "fabiodropshipping22@gmail.com",
                "name": ""
              }
            ],
            "html": "<span class=\"mp_address_group\"><a href=\"mailto:fabiodropshipping22@gmail.com\" class=\"mp_address_email\">fabiodropshipping22@gmail.com</a></span>",
            "text": "fabiodropshipping22@gmail.com"
          },
          "from": {
            "value": [
              {
                "address": "fabio.roggero90@gmail.com",
                "name": "Fabio Roggero"
              }
            ],
            "html": "<span class=\"mp_address_group\"><span class=\"mp_address_name\">Fabio Roggero</span> &lt;<a href=\"mailto:fabio.roggero90@gmail.com\" class=\"mp_address_email\">fabio.roggero90@gmail.com</a>&gt;</span>",
            "text": "\"Fabio Roggero\" <fabio.roggero90@gmail.com>"
          },
          "messageId": "<CAODqEHbvvkFa5raiVtQ0PHnKCTuJGrxeQeSVxxObNZgO26547g@mail.gmail.com>"
        },
        "pairedItem": {
          "item": 0
        }
      }
    ]
  },
  "connections": {
    "UPDATED STATUS MANUAL-VERIFICATION DB ORDERSTATUS: PENDING_VERIFICATION > UPDATED_BY_CLIENT": {
      "main": [
        [
          {
            "node": "PREVENT-HTTP- LOOPS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "CLIEND ID... RESPONSE - TRIGGER": {
      "main": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain": {
      "main": [
        [
          {
            "node": "Parse AI Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "LLM ha trovato davvero dati nuovi?": {
      "main": [
        [
          {
            "node": "UPDATED STATUS MANUAL-VERIFICATION DB ORDERSTATUS: PENDING_VERIFICATION > UPDATED_BY_CLIENT",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Parse AI Response": {
      "main": [
        [
          {
            "node": "lettura Manual DB per java",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "lettura Manual DB per java": {
      "main": [
        [
          {
            "node": "lettura manual DB per java",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "lettura manual DB per java": {
      "main": [
        [
          {
            "node": "LLM ha trovato davvero dati nuovi?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "PREVENT-HTTP- LOOPS": {
      "main": [
        [
          {
            "node": "HTTP TO WEBHOOK FOR DOUBLE CHECK",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Email --> WH :Verifica manualmente i dati",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP TO WEBHOOK FOR DOUBLE CHECK": {
      "main": [
        []
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "9b025502-3c6a-4aac-9b38-67adac8f367a",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "c6340a675df2a727ab15ed3f6d8d62880dbe20df9d0152fe8457b488c5c92e1e"
  },
  "id": "66h_lRtI5AzGGktQlktuN",
  "tags": []
}